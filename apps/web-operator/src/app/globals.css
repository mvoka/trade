@tailwind base;
@tailwind components;
@tailwind utilities;

@import '@trades/ui/globals.css';

/*
 * Web Operator Portal - Dispatch Operations Styles
 * Inherits from the shared design system with Operator-specific customizations
 */

@layer base {
  :root {
    /* Operator portal uses semantic SLA colors extensively */
  }
}

/* === OPERATOR-SPECIFIC PATTERNS === */

/* Queue card */
@layer components {
  .queue-card {
    @apply relative bg-card rounded-xl border transition-all duration-200;
    box-shadow: var(--shadow-sm);
  }

  .queue-card:hover {
    box-shadow: var(--shadow-md);
  }

  .queue-card-header {
    @apply flex items-center justify-between p-4 border-b border-border;
  }

  .queue-card-body {
    @apply p-4;
  }

  .queue-card-priority-high {
    @apply border-l-4 border-l-destructive;
  }

  .queue-card-priority-medium {
    @apply border-l-4 border-l-warning;
  }

  .queue-card-priority-normal {
    @apply border-l-4 border-l-info;
  }
}

/* SLA indicator */
@layer components {
  .sla-indicator {
    @apply inline-flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-semibold;
  }

  .sla-ok {
    @apply bg-success-50 text-success-600;
  }

  .sla-warning {
    @apply bg-warning-50 text-warning-600;
  }

  .sla-breach {
    @apply bg-destructive-50 text-destructive-600 animate-pulse-subtle;
  }

  .sla-timer {
    @apply font-mono;
  }
}

/* Escalation badge */
@layer components {
  .escalation-badge {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold;
  }

  .escalation-tier-1 {
    @apply bg-info-50 text-info-600;
  }

  .escalation-tier-2 {
    @apply bg-warning-50 text-warning-600;
  }

  .escalation-tier-3 {
    @apply bg-destructive-50 text-destructive-600;
  }
}

/* Live queue stats */
@layer components {
  .live-stat {
    @apply relative overflow-hidden bg-card rounded-xl border p-4;
    box-shadow: var(--shadow-sm);
  }

  .live-stat-value {
    @apply text-3xl font-bold tracking-tight;
  }

  .live-stat-label {
    @apply text-sm text-muted-foreground;
  }

  .live-stat-trend {
    @apply absolute top-4 right-4;
  }

  .live-stat-pulse {
    @apply absolute top-4 right-4 w-3 h-3 rounded-full bg-success;
    animation: pulse 2s infinite;
  }
}

/* Dispatch action buttons */
@layer components {
  .dispatch-action {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200;
  }

  .dispatch-action-accept {
    @apply bg-success text-success-foreground hover:bg-success-600 shadow-sm hover:shadow-md;
  }

  .dispatch-action-decline {
    @apply bg-destructive text-destructive-foreground hover:bg-destructive-600 shadow-sm hover:shadow-md;
  }

  .dispatch-action-escalate {
    @apply bg-warning text-warning-foreground hover:bg-warning-600 shadow-sm hover:shadow-md;
  }

  .dispatch-action-reassign {
    @apply bg-info text-info-foreground hover:bg-info-600 shadow-sm hover:shadow-md;
  }
}

/* Contact relay */
@layer components {
  .contact-relay {
    @apply flex items-center gap-3 p-3 bg-muted/50 rounded-lg;
  }

  .contact-relay-masked {
    @apply font-mono text-sm text-muted-foreground;
  }

  .contact-relay-action {
    @apply px-3 py-1.5 text-xs font-medium text-primary bg-primary/10 rounded-md hover:bg-primary/20 transition-colors;
  }
}

/* Pipeline stage indicator */
@layer components {
  .pipeline-stage {
    @apply flex items-center gap-2;
  }

  .pipeline-dot {
    @apply w-3 h-3 rounded-full;
  }

  .pipeline-dot-active {
    @apply ring-4 ring-offset-2 ring-offset-background;
  }

  .pipeline-draft { @apply bg-muted-foreground; }
  .pipeline-dispatched { @apply bg-info; }
  .pipeline-accepted { @apply bg-primary; }
  .pipeline-scheduled { @apply bg-warning; }
  .pipeline-in-progress { @apply bg-accent; }
  .pipeline-completed { @apply bg-success; }
  .pipeline-cancelled { @apply bg-destructive; }
}

/* Map overlay */
@layer components {
  .map-overlay {
    @apply absolute bottom-4 left-4 right-4 bg-card/95 backdrop-blur rounded-xl border p-4;
    box-shadow: var(--shadow-lg);
  }

  .map-legend {
    @apply flex items-center gap-4 text-xs;
  }

  .map-legend-item {
    @apply flex items-center gap-2;
  }
}
